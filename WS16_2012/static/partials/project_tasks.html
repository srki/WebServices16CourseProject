<div ng-controller="ProjectTasksCtrl">
    <h3>Project tasks</h3>
    <uib-alert type="danger" ng-if="alertMessage" class="tm-20">{{ alertMessage }}</uib-alert>

    <table class="table table-striped table-hover table-bordered">
        <tr>
            <th class="table-cell-align header-sm">Name</th>
            <th class="table-cell-align">Description</th>
            <th class="table-cell-align header-sm">Priority</th>
            <th class="table-cell-align header-md">Status</th>
        </tr>
        <tr ng-repeat="task in tasks" class="clickable" ng-click="open(task.id)">
            <td>{{ task.name }}</td>
            <td>{{ task.description }}</td>
            <td class="text-capitalize">{{ task.priority }}</td>
            <td class="text-capitalize">{{ task.status }}</td>
        </tr>
        <tr ng-if="!tasks.length">
            <td colspan="4">
                <uib-alert type="warning" class="tm-20 rm-20 lm-20"><span class="glyphicon glyphicon-warning-sign"></span>
                    &nbsp;Sorry, no results were found.
                </uib-alert>
            </td>
        </tr>
    </table>

    <div ng-show="count" class="ta-mid">
        <uib-pagination total-items="count" ng-model="currentPage" max-size="5" class="pagination-sm" boundary-links="true"
                        items-per-page="5" force-ellipses="true" ng-change="loadTasks()"></uib-pagination>
    </div>

</div>